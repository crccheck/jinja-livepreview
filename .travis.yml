sudo: required
services:
- docker
language: python
python:
- '3.5'
script: python -m unittest test_web
# For some reason, a non-zero exit fails the build contrary to the docs
after_success: >
  test "$TRAVIS_BRANCH" = "master" -a "$TRAVIS_PULL_REQUEST" = "false" &&
  docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS &&
  make docker/assets docker/build docker/push
env:
  global:
  - secure: KTXTEIeIlqrzz1GarT+Cm3qAVurYl3PeBKBGcIGq9nZ8SVzgrwmWNY0vazn/N/ZybQH4dGobfdq02I+P0u5Pi32TEspYwDoISvdZ5X0ehaOhqPyvWtyisYOwKgzSKNkTadIE/ye+HAtLadrpNeCJWnU5K7efjxOJrRZJhjOfjGWCZtdFGO57yj/WGpR08BxZKqC6I9v1krXldiBbnDIhUJ1WUSrxlq1yeJAeyYJIKWOHHDr/oiyW/1VbVcEu26d0bh57qFh1UiUDfaR37+qnVUny753SH4k7eDkexZCIdFMQrcfEpu6ksC+50TBt6t6t45bu2p950UOOLHPil17eSOqbX0tKvRqvpyM1DlM4kg6Ns+3aaaI+e+uhiBV3/T4WERB+9affS4ovgxNqT9jVgVY3ohRvjJHRyvwhJfR2U/7OhMbQfuGFUC2XViZ+SJPyhsKEppJVCnP9ybDu0PuMO7dG/uQcg47XfoCz4WkMd/IDxiVtOqOr8ZpyrHNnJ28lPij59M3q1YcDt7gT71v8dYYMACj0pvhf/PfyrGSnbCUv1O3tUCbZibNA/qDi3xKvTljDxFjcwrW35K0nyZtDjC7GOtj/C2hoGouaHaMiuM3PbVXjj8JtS7tz6O0W8RZsleZMj7W/VKfVZGR7ELgwhOg52334UWzGtXWwnjkp+ao=
  - secure: lOSK5aklao1MKwX4b1JO8/+hCygUW27kskDDHvgLz0gl25Y8Q46sEcVeFN8g4+QSVYgVJIRDP3+TTIYf688qnE6LZ7ff6hUNSpRW925xnh548xpOsHGF3lJDl0WL+Xt6sVCurKQHYL3xuE02bRYZrCnBzovcG/KFuMJ9WBzCfBrrlc5A7WWLMDHaGg/AIte08UaqQy4ASP0+xsPSLrik2gbSjYRJcVrDaFtNeFdX2mabLR64WItALygrmQgWizIar2LRv2LzRYqDAMzBPKYiT6nmxnPO96qqsPzDCS6zv+sicX0RiZT9Ex9uQaVggLCCpgUa/VJ3IFA8U6qHyty1w+UjA2r9Rntdg/K2zpEmFOyT2CAJi2n0OQcVliocz9D1pKdK6eCHj6+fwgbGsxjU9m1gd+iMCY56NmFwzeMgqtGUPfkWzm1R06i71fmx6q2qA9bY+R3kZlsq0mCme0BpOagtGbb8eYe8LoB9dPE0Rrd4CmUgHeQWL36zD9iuC1xE4M8iSpLolEhH4av0c7WhNThY+VX/PKdIeGNiSN4/IzFm9pz29ZFp3YuCqt5566WDlU6QB66D6KXKqRfBB2rQRXZnTYFg5Kq4Yp1Ko3vE2mDjFpaADdFBO3Kz/VbhuKB5yhou/oSS+PtoBBhAd1mvVk/W0QKpdLb/3Lg1Uoq1wXw=
  - secure: IotT7qoR/24UY0vmz1pz/TW+D/mEO2UAFxYisWrpASF9Em22vIXb5Aqp3qTYixo2at1PXmWefAvNp8Ohqa4I7qfwFAbHPXvvkO4UfnAjEuX7WuuR/zwVJ39WKU9GYE6VKxDhfPpp0S8OnMFQbpWCpJk9/AiVPeQy1i7XwwH68fU0hslwMKtw3fCMnRgO2Uqo8qGLCA8pg6mtxe52gtdeutWRqlb55j6IKHrHnPSmYmjqjQ4RDilpHyjjtpOUOkLoWiSBU0WnSLAAQOLm8nvQHOualFcNW2oWQg+pxrVAOnyiqCf7nc4geUPaHbhKsfiw0U1Loc7S+IfyBNboPMEBvr6bVgDsCt270pvF76kxlgn8OOJ97u4cYr6d7ehg59BK3ybimVlBgcLEYETXTDbkIblsVmRSu92YwXvaERfHPfjYVferYd3WhGPESWE2qjoFadF4U/mtkxBfRIma5wY1lU6ESVbzHRYFnnU3qZVnhdricMwrPc0HtT0ew3zROy0fPgsR37v10S9W/DGjVJFYRAlepTsYcvLwqGdyfhjFj+1NDtr+2k/Hp/7X/WbTbkopNy4I0vKEHtx1j9qey248nvBRdTQVl7Oadu6xievRF06cItFIy7GaPfxLSFh+fP5NodgizKLhmZP7aTnREKFfr66Ek3WhdsPRWE3By7XApyI=
